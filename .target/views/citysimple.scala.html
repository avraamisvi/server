@(message: String)


<div id="echo"></div>

<div class="container-fluid">
  <div class="row">
    <div class="span4">
    	<button onclick="endTurn()">End Turn</button>
    	<button onclick="requestMap()">Show map</button>
    	<button onclick="increaseIndustryLevel()">[+]Industry level</button>

<div class="tabbable">
  <ul class="nav nav-tabs">
    <li class="active"><a href="#pane1" data-toggle="tab">Status</a></li>
    <li><a href="#pane2" data-toggle="tab">Cons</a></li>
    <li><a href="#pane3" data-toggle="tab">City</a></li>
    <li><a href="#pane4" data-toggle="tab">Country</a></li>
  </ul>
  <div class="tab-content">
    <div id="pane1" class="tab-pane active">

	<form>
		  <fieldset>
		    		    		    
		    <label>Type</label>
		    <input id="txtType" type="text">

		    <label>Owner Type</label>
		    <input id="txtOwnerType" type="text">
		    
		    <label>Jobs</label>
		    <input id="txtJobs" type="text">		    

		    <label>Employed</label>
		    <input id="txtEmployed" type="text">
		    
			<label>Conservation</label>
		    <input id="txtConservation" type="text">
		    
			<label>Built</label>
		    <input id="txtBuilt" type="text">
		    
			<label>Cost</label>
		    <input id="txtCost" type="text">
		    
			<label>Saving</label>
		    <input id="txtSavings" type="text">				    
		    
		    <div id="houseDiv" style="display:none;">
				<label>Class</label>
			    <input id="txtClass" type="text">
			    
				<label>Ceramics</label>
			    <input id="txtEntertainment" type="text">
			    
				<label>Wine</label>
			    <input id="txtWine" type="text">
			    
				<label>Furniture</label>
			    <input id="txtFurniture" type="text">
			    
				<label>meat</label>
			    <input id="txtMeat" type="text">
			    
				<label>beans</label>
			    <input id="txtBeans" type="text">
			    
				<label>rice</label>
			    <input id="txtRice" type="text">
			    
				<label>cloths</label>
			    <input id="txtCloths" type="text">
			    
				<label>citizenActive</label>
			    <input id="txtCitizenActive" type="text">
			    
				<label>citizenChild</label>
			    <input id="txtCitizenChild" type="text">
			    
				<label>withaJob</label>
			    <input id="txtWithaJob" type="text">
			    
				<label>satisfaction</label>
			    <input id="txtSatisfaction" type="text">
			    
		    </div>	 
		    
			<div id="fireDiv" style="display:none;">			
			    				
			</div>
			
			<div id="policeDiv" style="display:none;">
				
			</div>
						
			<div id="farmDiv" style="display:none;">
				<label>Produced</label>
			    <input id="txtProduced" type="text">
			    
				<label>Max Production</label>
			    <input id="txtMaxProduction" type="text">
			    			    	
				<label>Type Production</label>
			    <input id="txtTypeProduction" type="text">			    	
			</div>			
					       		    		    		    		    		    
		  </fieldset>
		</form>


    </div>
    <div id="pane2" class="tab-pane">
    <h4>Constructions Pallet</h4>
    	<button onclick="newRoad()">New Road</button>
    	
    	<button onclick="newHouse()">New House</button>    	
    	<button onclick="newMansion()">New Mansion</button>
    	
    	<button onclick="newFarmRice()">New Farm Rice</button>
    	<button onclick="newFarmBeans()">New Farm Beans</button>
    	<button onclick="newFarmMeat()">New Farm Meat</button>
    	<button onclick="newFarmGrapes()">New Farm Grapes</button>
    	<button onclick="newFarmCotton()">New Farm Cotton</button>
    	<button onclick="newPolicePost()">New PolicPost</button>
    	<button onclick="newFiremanPost()">New FiremanPost</button>
    	<button onclick="newCloths()">New Cloths Fabric</button>
    	
    	<button onclick="newFurniture()">New Furniture</button>
    	<button onclick="newWineCellar()">New Wine Cellar</button>
    	
    	<button onclick="newMineRock()">New Rock Mine</button>
    	<button onclick="newMineIron()">New Iron Mine</button>
    	<button onclick="newMineSulfur()">New Sulfur Mine</button>
    	<button onclick="newMineClay()">New Clay Mine</button>
    	
    	<button onclick="newMarket()">New Market</button>
    	<button onclick="newBank()">New Bank</button>
    	
    	<button onclick="newPalace()">New Palace</button>    	
    	<button onclick="newUniversity()">New University</button>
    	<button onclick="newSchool()">New School</button>
    	
    	
    	<button onclick="newBarracks()">New Barracks</button>
    	<button onclick="newShipyard()">New Shipyard</button>
    	<button onclick="newArchersCamp()">New ArchersCamp</button>
    	<button onclick="newInfirmary()">New Infirmary</button>
    	<button onclick="newMachinery()">New Machinery</button>
    	<button onclick="newKnights()">New Knights Camp</button>
    	<button onclick="newAirport()">New Airport</button>
    	
    	<hr/>
    	<button style="display:none" class="level1_barracks" onclick="newSwordMan()">New Sword Man</button>
    	<button style="display:none" class="level2_barracks" onclick="newSpearMan()">New Spear Man</button>
    	<button style="display:none" class="level2_barracks" onclick="newSling()">New Sling Man</button>
    	<button style="display:none" class="level5_barracks" onclick="newRifleman()">New Rifle Man</button>
    	
    	<hr/>
    	<button style="display:none" class="knight" onclick="newKnight()">New Knight</button>
    	<button style="display:none" class="archer" onclick="newArcher()">New Archer</button>
    	<button style="display:none" class="infirmary" onclick="newInfirmary()">New Infirmary</button>
    	<button style="display:none" class="catapult" onclick="newCatapult()">New Catapult</button>
    	<button style="display:none" class="cannon" onclick="newCannon()">New Cannon</button>
    	
    </div>
    <div id="pane3" class="tab-pane">
      		<h4>City Data</h4>
      
			<label>Max Population</label>
		    <input id="txtMaxPopulation" type="text">
		          		
			<label>Population</label>
		    <input id="txtCPopulation" type="text">      		
      
			<label>Treasure Contribution</label>
		    <input id="txtContribution" type="text">

		    <label>Expenses</label>
		    <input id="txtExpenses" type="text">
		    
		    <label>Unemployed</label>
		    <input id="txtCUnemployed" type="text">		    

		    <label>Jobs</label>
		    <input id="txtCJobs" type="text">
		    
			<label>Ceramics</label>
		    <input id="txtCEntertainment" type="text">
		    
			<label>Wine</label>
		    <input id="txtCWine" type="text">
		    
			<label>Furniture</label>
		    <input id="txtCFurniture" type="text">
		    
			<label>meat</label>
		    <input id="txtCMeat" type="text">
		    
			<label>beans</label>
		    <input id="txtCBeans" type="text">
		    
			<label>rice</label>
		    <input id="txtCRice" type="text">
		    
			<label>cloths</label>
		    <input id="txtCCloths" type="text">
		    
		    <h4>Demand</h4>
		    
			<label>Ceramics Demand</label>
		    <input id="txtDEntertainment" type="text">
		    
			<label>Wine Demand</label>
		    <input id="txtDWine" type="text">
		    
			<label>Furniture Demand</label>
		    <input id="txtDFurniture" type="text">
		    
			<label>Meat Demand</label>
		    <input id="txtDMeat" type="text">
		    
			<label>Beans Demand</label>
		    <input id="txtDBeans" type="text">
		    
			<label>Rice Demand</label>
		    <input id="txtDRice" type="text">
		    
			<label>Cloths Demand</label>
		    <input id="txtDCloths" type="text">		    	      
			
    </div>
    <div id="pane4" class="tab-pane">
      		<h4>Country Data</h4>
   
			<label>Max Population</label>
		    <input id="txtGMaxPopulation" type="text">
		          		
			<label>Population</label>
		    <input id="txtGPopulation" type="text">      		
      
			<label>Treasure</label>
		    <input id="txtGTreasure" type="text">

		    <label>Expenses</label>
		    <input id="txtGExpenses" type="text">
		    
		    <label>Unemployed</label>
		    <input id="txtGUnemployed" type="text">		    

		    <label>Jobs</label>
		    <input id="txtGJobs" type="text">
		    
			<label>Ceramics</label>
		    <input id="txtGEntertainment" type="text">
		    
			<label>Wine</label>
		    <input id="txtGWine" type="text">
		    
			<label>Furniture</label>
		    <input id="txtGFurniture" type="text">
		    
			<label>meat</label>
		    <input id="txtGMeat" type="text">
		    
			<label>beans</label>
		    <input id="txtGBeans" type="text">
		    
			<label>rice</label>
		    <input id="txtGRice" type="text">
		    
			<label>cloths</label>
		    <input id="txtGCloths" type="text">
		    
			<label>Iron</label>
		    <input id="txtGIron" type="text">
		    		    
			<label>Sulfur</label>
		    <input id="txtGSulfur" type="text">
		    		    
			<label>Rock</label>
		    <input id="txtGRock" type="text">
		    		    
			<label>Cotton</label>
		    <input id="txtGCotton" type="text">		    
    </div>
  </div><!-- /.tab-content -->
</div>

		 
    </div>
    <div class="span18">
      	<canvas id="mainCanvas" width="650" height="650">
     		alternate content
		</canvas>
    </div>
  </div>
</div>

<script src="@routes.Assets.at("javascripts/app.js")" type="text/javascript"></script>
<script>
var ws = new WebSocket("@routes.CityController.map().webSocketURL(request)");
ws.onopen = function() {
};
ws.onmessage = function(evt) {
	var received_msg = evt.data;
	
	console.log(received_msg);
	var localdata = JSON.parse(received_msg);
	
	if(localdata.name == "GameCityData") {
	
		if(localdata.city) {
			city = localdata.city;
			processMap();
		} 
		
		if(localdata.gamer) {
			country = localdata.gamer;
			showCountryState();
		}				
	} else if(localdata.name == "Error") {
		alert("Error: " + localdata.error);
		console.debug(localdata);
	} else if(localdata.name == "created_warrior") {
		processCreateWarrior(localdata);
	}
};
ws.onclose = function() {
	// websocket is closed.
	console.debug("Connection is closed...");
};
</script>
